[
  {
    "cves": [
      "CVE-2023-45853"
    ],
    "cve_counts": {
      "CVE-2023-45853": 1
    },
    "title": "Issue with zlib Vulnerability in CI/CD Pipeline (GitLab)",
    "permalink": "https://stackoverflow.com/questions/79575571/issue-with-zlib-vulnerability-in-ci-cd-pipeline-gitlab",
    "text": "<h2>Problem</h2>\n<p>I\u2019m encountering an issue in my GitLab CI/CD pipeline related to a critical vulnerability in the zlib1g library (CVE-2023-45853). The vulnerability was flagged during the container security scan. Below are the details:</p>\n<h2>Environment</h2>\n<p>CI/CD Pipeline: GitLab CI</p>\n<p>Vulnerable Library: zlib1g (version 1:1.2.13.dfsg-1)</p>\n<p>Vulnerability Status: <code>will_not_fix</code></p>\n<p><a href=\"https://i.sstatic.net/3yhYfWlD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/3yhYfWlD.png\" alt=\"Environment\" /></a></p>\n<h2>What I've Tried So Far:</h2>\n<p>Upgrading zlib1g: Tried apt-get upgrade -y zlib1g, but no fix is available since the package status is &quot;will_not_fix.&quot;</p>\n<p>Documentation Check: Reviewed Librem5 zlib1g documentation for any alternative patches.</p>\n<p>Python Upgrade: Updated Python to version 3.11, but the issue persists.</p>\n<p>Dependency Review: Collaborated with a teammate to check for any direct dependencies on zlib1g\u2014none were identified.</p>\n<p>Exploring Alternatives: Looked into alternative libraries or patched versions of zlib1g without success.</p>\n<h2>Question</h2>\n<p>How can I resolve or mitigate this issue? Is there a way to patch the vulnerability manually, or do I need to wait for an official update? Are there alternative strategies to address this in a CI/CD pipeline?</p>\n<h2>Additional Details:</h2>\n<p>Base Image: [debian:12]</p>\n<p>Security Scanner: [Trivy, GitLab's scanner]</p>\n<p>Steps Taken: Investigated patched versions or backports but found none that resolve this CVE.</p>\n<p>Feel free to ask any questions or request more details. I\u2019m happy to share anything that might help you assist me better.</p>\n<p><a href=\"https://i.sstatic.net/lGx3WWZ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/lGx3WWZ9.png\" alt=\"Details\" /></a></p>\n",
    "comments": []
  },
  {
    "cves": [
      "CVE-2024-53677"
    ],
    "cve_counts": {
      "CVE-2024-53677": 1
    },
    "title": "Apache Struts 6 file upload returns null",
    "permalink": "https://stackoverflow.com/questions/79567876/apache-struts-6-file-upload-returns-null",
    "text": "<p>I am upgrading our legacy application from Apache Struts 2.5.33 to 6.7.0 to remediate the file upload vulnerability CVE-2024-53677. I have reviewed the following guides:</p>\n<ul>\n<li><a href=\"https://cwiki.apache.org/confluence/display/WW/Struts+2.5+to+6.0.0+migration\">Struts 2.5 to 6.0.0 Migration Guide</a></li>\n<li><a href=\"https://struts.apache.org/core-developers/action-file-upload-interceptor\">Action File Upload Interceptor</a></li>\n</ul>\n<p>The below <code>struts.xml</code> content works with <code>fileUpload</code> interceptor but fails with <code>actionFileUpload</code> as the form content values are coming back null after the file is selected.</p>\n<pre><code>&lt;package name=\"abc-default\" extends=\"struts-default,json-default\"&gt;\n    ...\n    &lt;action name=\"*valueTemplate\" class=\"com.companyname.abc.actions.ValueTemplateFilesAction\" method=\"{1}\"&gt;\n        &lt;interceptor-ref name=\"actionFileUpload\"/&gt;\n        &lt;interceptor-ref name=\"abc-default\"&gt;\n            &lt;param name=\"className\"&gt;com.companyname.abc.forms.ValueTemplateFilesForm&lt;/param&gt;\n            &lt;param name=\"name\"&gt;valueTemplateFilesForm&lt;/param&gt;\n            &lt;param name=\"scopedModelDrive.scope\"&gt;request&lt;/param&gt;\n        &lt;/interceptor-ref&gt;\n        &lt;result name=\"target\" type=\"tiles\"&gt;time_admin_uploadValue&lt;/result&gt;\n        &lt;allowed-methods&gt;uploadFiles,loadPage,markFileActive,downloadTemplate&lt;/allowed-methods&gt;\n    &lt;/action&gt;\n&lt;/package&gt;\n</code></pre>\n<p>I am not familiar with Struts and not sure where to begin so just seeking advice on some things I should check.</p>\n<p><strong>Answer:</strong> Here is what ended up working. Because <code>abc-default</code> is a custom stack, it needed to have <code>actionFileUpload</code> interceptor defined in it. Also, the user-defined action class needed to implement <code>UploadedFilesAware</code> because it will default to <code>fileUpload</code> interceptor in Struts versions prior to 7.</p>",
    "comments": []
  }
]